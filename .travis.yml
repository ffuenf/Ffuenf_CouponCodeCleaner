language: php
sudo: false
php:
- 5.3
- 5.4
- 5.5
- 5.6
- 7.0
matrix:
  allow_failures:
  - env: MAGENTO_VERSION=magento-ce-1.9.1.1
  - env: MAGENTO_VERSION=magento-ce-1.9.1.0
  - php: 5.3
  - php: 5.4
    env: MAGENTO_VERSION=magento-ce-1.9.2.2
  - php: 5.4
    env: MAGENTO_VERSION=magento-ce-1.9.2.1
  - php: 5.4
    env: MAGENTO_VERSION=magento-ce-1.9.2.0
  - php: 5.6
    env: MAGENTO_VERSION=magento-mirror-1.8.1.0
  - php: 7.0
    env: MAGENTO_VERSION=magento-mirror-1.8.1.0
  fast_finish: true
env:
  global:
  - APPNAME=Ffuenf_CouponCodeCleaner
  - secure: g2RShqrO89XSzq3VMr9W3GXcXi1+BKDPzJSyQU98Ji7pDalhtAsHTQh48WEQkZtancGUVDj6SXOYuK/HH/LereXKwD2nHYMfDkF0qDxfxKNv246tBkk/OQyMdARW4qdRdmhvejiNSmEXUwiSPG6r7xaLNfqqolTMyN0y/LUD5Jd1mM11H4jM7b67GF5teO3hIBfhZXelfp1bVFHCeZ1LYT+HYkODXRB/NazseHU6WcV5kub19LuTpHGzgdnieqgQa44fs/wolbfjX/6Gi2uWEJdK0qONReInW/T5kX69V+9VWgx25fJRpi6aeUMnG4CWgBrYQr2QxFkn460NmQ7bgfm/spTssnxf7o34KriTIlHUNhFsA3aetc70hmEDPktsCn5lu3qsyuir0Z08oRtvT5I7xrc72kXgXeyTxIzGoa6Ntch0pL9XwmBg2A7SADhPtb0ukrSepfAowi9goZV/rwk149pQED1Tv88rNLbL06qH1awIXMEuO9wCmf2XyeCRAqdrqnT5LoE4Yf2CM5EpLA9WZQVWkBOnRPhCX2YO8uxdYguE0xJ6kVR703UURdV9WJZ/TxWMydCxa6aq8jbeYZihWYect1SL7I7PviP635sj6BzXrUVpds9Cly1LSWqic5gYkB9CWnAuJVyiYJTr3ij2VuHRlbDCwNhbBgM7KF4=
  - secure: jpYxlS4sh+OWjdt2mO1q0vRSi+qVAD2GTw42hplq1VzfOSZcU9R8ixIFiybzk9PNvzh/PdDEaa+L3m0yCi68eLfJjYxLUxk/AvCLyoGtMiyFj7HArmYmAmnpJLgJOJHg1o89UweOrjg2ESgWkQPWStClRQrgAav2YsuzRXr2cYRiNFB+UjrpLfTgGsCkI8ywZ1jfp5BboAhnxlbyfQWlyuViZFPPQQykd/AAUpWmqRYbqVno6oFVFYp/AXCcqCmjTyyes64ZKAuyZROXZwzOzku56qev4omkdzaSAoWMo//VaE9JgUcxl+9kZqiCjgekBrFHIMhoOeyf3UGx+ckBRjsbpBkSJ8LrU5J5VInkzLveQijQHkQdAQRSahBL103lN74DaX5uNjdIm9j9SL0++gY884uiCRvljGGVCiSRTsmAs1ebIoSWZWYRd289SA+bEEYyGwbQ5F+CGQ7w+8Jevj/Dfw9dkPIJ7iFpgLsdUWbOmOcJLsuje2XiDReUdN8AnAXQCoyDy/GQHLMEj+joN5RLiSLC03+r47BnMpHcCR7b/EaBETmdob62yAKmSF+B1douzHEyRatfc2MEXK6lt9/LySc4Znr+YGN84HMY5OX5vnbtQt8uGavtTRF/RvV6NaCuj73WDdrESrVVGdc/vb3bWl4Am4CiACLvmAmJSeY=
  - secure: VWwx/p/A531vWDcSpzOvKbofD7RKy7wjTv6lswQNvWz4xQcL42O85x8kxX4DM0UqnWSoBsJP/GNIJ78IfJ9tEuW9rN2fM04BD6RorliHVvV7IXNepffnnJ/gKagUpXjeljwgyyMzCmfn1NaxivgJb/bq8+/uF+SLhKOnJhjhxsXKLtth9MfGHn+HaRN2NSNx2m58cPkQcGojtViJ1PSNgvLEDX7INj9m52XqlL8Q639izcarh+1pSnKQQZMa48vIBQehkZ79ZVtuRI6sLRVUXvIQdFyfxdkBo02T6lEKxjWHiXOWTPwnjSc2GSwDrTjEYJQz5dxKkqxOnpoanpLKuwWCIqB+4Q9gkA0Mg42pl6MVxq/007lQS4lHiD2dQ2JZt4VT7upT3hN9P7Nvwttw+wIfeW38XDJsU1K0VR2fk1JqYIGEjLvR6TVOnovmV2YUsY2R9Kzgh21AK+kX8HOtLojx8iF2n4yYOKjCVr5mbgh//UhsU4XALtV/ikBW/P+ACkILp0b0BTtxrQTpbgZ5gswvAAcXxHzJf6aKxml6AWOm38KiangzCumAOE7JxsabSNrp59z1Aw8I/dV0j+VMYdJuhlmf0YuW6svz0JTM8p+TPQIrJj2g0sQrL8P4cZRh0md9hYtBA3QUGxUEtnSY6Xsb920G8zfihQB5jFWzSe4=
  matrix:
  - MAGENTO_VERSION=magento-ce-1.9.2.2
  - MAGENTO_VERSION=magento-ce-1.9.2.1
  - MAGENTO_VERSION=magento-ce-1.9.2.0
  - MAGENTO_VERSION=magento-ce-1.9.1.1
  - MAGENTO_VERSION=magento-ce-1.9.1.0
  - MAGENTO_VERSION=magento-mirror-1.8.1.0
  - MAGENTO_VERSION=magento-mirror-1.7.0.2
  - MAGENTO_VERSION=magento-mirror-1.6.2.0
script:
- curl -sSL https://raw.githubusercontent.com/ffuenf/MageTestStand/master/setup.sh
  | bash
before_deploy:
- gem install mime-types -v 2.6.2
deploy:
  provider: releases
  file:
  - "${APPNAME}-${TRAVIS_TAG}.zip"
  - "${APPNAME}-${TRAVIS_TAG}.tar.gz"
  skip_cleanup: true
  on:
    branch: master
    tags: true
  api_key:
    secure: hAK5boaC6HSHrhJ502wezc/+ECZEEULVLVk95VNBy4SsPBE245FuZDZpHucj5uAhyivaoUtQ4ROLNuxv1yhYeIhz9Rygnp15sMTQs1dLIXR6rrQ4L6tFCnK30WH1hTUJ9NIB0QPnLERdXA3i6A7KDqExo/0tVUtfRbWYs06GYQBc246rRf0g/fU2L3pkWb0PgoUtNjlPyMzbucOWBfkFdznQvGA0JsJfk8lDGeMZcxJsR5abEwBBwVmLtUNLI4KaWLTDsFsnCTS3w1K/GIxyKIyWWVRwmKnD+ofFjHQQ/kqFIZIGIjw6jMW/MbbP0fKo7f1X9YHySJFqgr5L7/f0B96pyHY/edIxH2wRZLyztbkLuyC2/FxD4NYJsc0OeNdfAL+AKjYOF4nQWr8/FW1ld3Y8sAwRrIv81vs2lcLgR4x6VTH1qvdNZNUhntXjEZjaVNCVkfn2vVQtOfMJF32OWKHwGYis5jRkT+ga4eKeqeTBcOAK7aECkUWX3cN6jjimV0IKtLR/0ou5m8OKGC6rJPdyIriZ/3L4VqFiIIX9QyvOOqCKi1Waufw0Qns4vhfMDky3Eu+eY8341ru/iniSGyKTe3dRhMJKiEmeyDRRzc9tLW4WzCJyRWrMwV86jdXYIfGJMk2a//lxEROaNqChSiPHl0KSlKeJkheXzRSDdYo=
notifications:
  slack:
    secure: TYR5cGT9teAjVbbDAAJb7Gh94LwA9/ySckp2jBYjWYGi5I69oBwxYFqbE/6hUcTK2c6uGNPOo8Qxxa16paA6/nwTInSSN8Y2EBgI9LRY+roJEWDaiaSb7dh9qcpe6HYDsKYQqaJtiaFsfmfAbw8qvRyr7WTkF+eTnlEgv70G7plGy39gg3atZ7pS4IlMqH8xFNU4Xs2koGXsG0QB3YMHYLHZxw8l3OprcfhH+QJ8E55Y+t1VMSFx1zbU/ELSXB56ItxQ/2K84qqc4hWhs2wsvwaVG4K7baaN+/unteq9V+s8VugdZj+RRsOvNbJtDtBUJRRJUTpdDDLC+Z8p5AioK1tgsWmmvQtgEUP73bunp5Zyh2VwRk4LWs61zKF/lWUClx2y0TwZhSnc+HGLTCZnSa1OdHkphq3t0mjGpg9w6qK4Yki7Pd3/ZceAfKVt+lpGLBhDa5Y23aQM6E24vH58XyK2hWMriW5US2ypayMxKUNhjcnWf7wYrLWTQRICvP0GoNOPxhNmHkpBF9A8HuKTSIZ33X3tdEceVsAaiJOVeDS0r01mSXTIV/zLvdXS4T+f1cPv6GnRtB4mhU+OHN4iLFA/pu2meh4AFmjvmad44KAEpAMesy2dLsOEUiaWd1BcitWd1Df60QpQWtMoiiqW++dSZ/qkKnAHVmhAabnrZCE=
